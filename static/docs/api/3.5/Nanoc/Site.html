<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Nanoc::Site
  
    &mdash; Documentation by YARD 0.8.3
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Nanoc.html" title="Nanoc (module)">Nanoc</a></span></span>
     &raquo; 
    <span class="title">Site</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Nanoc::Site
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nanoc::Site</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/nanoc/base/source_data/site.rb<span class="defines">,<br />
  lib/nanoc/helpers/capturing.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The in-memory representation of a nanoc site. It holds references to the
following site data:</p>

<ul>
  <li><span class='object_link'><a href="#items-instance_method" title="Nanoc::Site#items (method)">#items</a></span>         — the list of items         (<span class='object_link'><a href="Item.html" title="Nanoc::Item (class)">Item</a></span>)</li>
  <li><span class='object_link'><a href="#layouts-instance_method" title="Nanoc::Site#layouts (method)">#layouts</a></span>       — the list of layouts       (<span class='object_link'><a href="Layout.html" title="Nanoc::Layout (class)">Layout</a></span>)</li>
  <li><span class='object_link'><a href="#code_snippets-instance_method" title="Nanoc::Site#code_snippets (method)">#code_snippets</a></span> — the list of code snippets (<span class='object_link'><a href="CodeSnippet.html" title="Nanoc::CodeSnippet (class)">CodeSnippet</a></span>)</li>
  <li><span class='object_link'><a href="#data_sources-instance_method" title="Nanoc::Site#data_sources (method)">#data_sources</a></span>  — the list of data sources  (<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">DataSource</a></span>)</li>
</ul>

<p>In addition, each site has a <span class='object_link'><a href="#config-instance_method" title="Nanoc::Site#config (method)">#config</a></span> hash which stores the site
configuration.</p>

<p>The physical representation of a <span class='object_link'><a href="" title="Nanoc::Site (class)">Site</a></span> is usually a directory
that contains a configuration file, site data, a rakefile, a rules file,
etc. The way site data is stored depends on the data source.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DEFAULT_DATA_SOURCE_CONFIG-constant" class="">DEFAULT_DATA_SOURCE_CONFIG =
          <div class="docstring">
  <div class="discussion">
    <p>The default configuration for a data source. A data source&#8217;s
configuration overrides these options.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='symbol'>:type</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>filesystem_unified</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='symbol'>:items_root</span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='symbol'>:layouts_root</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='symbol'>:config</span>       <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="DEFAULT_CONFIG-constant" class="">DEFAULT_CONFIG =
          <div class="docstring">
  <div class="discussion">
    <p>The default configuration for a site. A site&#8217;s configuration overrides
these options: when a <span class='object_link'><a href="" title="Nanoc::Site (class)">Nanoc::Site</a></span> is created with a configuration
that lacks some options, the default value will be taken from
<code>DEFAULT_CONFIG</code>.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='symbol'>:text_extensions</span>    <span class='op'>=&gt;</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>css</span><span class='words_sep'> </span><span class='tstring_content'>erb</span><span class='words_sep'> </span><span class='tstring_content'>haml</span><span class='words_sep'> </span><span class='tstring_content'>htm</span><span class='words_sep'> </span><span class='tstring_content'>html</span><span class='words_sep'> </span><span class='tstring_content'>js</span><span class='words_sep'> </span><span class='tstring_content'>less</span><span class='words_sep'> </span><span class='tstring_content'>markdown</span><span class='words_sep'> </span><span class='tstring_content'>md</span><span class='words_sep'> </span><span class='tstring_content'>php</span><span class='words_sep'> </span><span class='tstring_content'>rb</span><span class='words_sep'> </span><span class='tstring_content'>sass</span><span class='words_sep'> </span><span class='tstring_content'>scss</span><span class='words_sep'> </span><span class='tstring_content'>txt</span><span class='words_sep'> </span><span class='tstring_content'>xhtml</span><span class='words_sep'> </span><span class='tstring_content'>xml</span><span class='words_sep'> </span><span class='tstring_content'>coffee</span><span class='words_sep'> </span><span class='tstring_content'>hb</span><span class='words_sep'> </span><span class='tstring_content'>handlebars</span><span class='words_sep'> </span><span class='tstring_content'>mustache</span><span class='words_sep'> </span><span class='tstring_content'>ms</span><span class='words_sep'> )</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span>
  <span class='symbol'>:output_dir</span>         <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>output</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
  <span class='symbol'>:data_sources</span>       <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:index_filenames</span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>index.html</span><span class='tstring_end'>'</span></span> <span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='symbol'>:enable_output_diff</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
  <span class='symbol'>:prune</span>              <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:auto_prune</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='symbol'>:exclude</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.git</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.hg</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>.svn</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>CVS</span><span class='tstring_end'>'</span></span> <span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#captures_store-instance_method" title="#captures_store (instance method)">- (Object) <strong>captures_store</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#captures_store_compiled_items-instance_method" title="#captures_store_compiled_items (instance method)">- (Object) <strong>captures_store_compiled_items</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#code_snippets-instance_method" title="#code_snippets (instance method)">- (Array&lt;Nanoc::CodeSnippet&gt;) <strong>code_snippets</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s code snippets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compile-instance_method" title="#compile (instance method)">- (void) <strong>compile</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Compiles the site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compiler-instance_method" title="#compiler (instance method)">- (Nanoc::Compiler) <strong>compiler</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the compiler for this site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-instance_method" title="#config (instance method)">- (Hash) <strong>config</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the site configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data_sources-instance_method" title="#data_sources (instance method)">- (Array&lt;Nanoc::DataSource&gt;) <strong>data_sources</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the data sources for this site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freeze-instance_method" title="#freeze (instance method)">- (void) <strong>freeze</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Prevents all further modifications to itself, its items, its layouts etc.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Site) <strong>initialize</strong>(dir_or_config_hash) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a site object for the site specified by the given
<code>dir_or_config_hash</code> argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#items-instance_method" title="#items (instance method)">- (Array&lt;Nanoc::Item&gt;) <strong>items</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s items.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#layouts-instance_method" title="#layouts (instance method)">- (Array&lt;Nanoc::Layouts&gt;) <strong>layouts</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s layouts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load-instance_method" title="#load (instance method)">- (void) <strong>load</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Loads the site data.</p>
</div></span>
  
</li>

      
        <li class="public deprecated">
  <span class="summary_signature">
    
      <a href="#load_data-instance_method" title="#load_data (instance method)">- (Object) <strong>load_data</strong>(force = false) </a>
    

    
  </span>
  
  
  
  
  
  <span class="deprecated note title">deprecated</span>
  

  
    <span class="summary_desc"><strong>Deprecated.</strong> <div class='inline'><p>It is no longer necessary to explicitly load site data. It
is safe to remove all <span class='object_link'><a href="#load_data-instance_method" title="Nanoc::Site#load_data (method)">#load_data</a></span> calls.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_child_parent_links-instance_method" title="#setup_child_parent_links (instance method)">- (void) <strong>setup_child_parent_links</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Fills each item&#8217;s parent reference and children array with the
appropriate items.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#teardown_child_parent_links-instance_method" title="#teardown_child_parent_links (instance method)">- (void) <strong>teardown_child_parent_links</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Removes all child-parent links.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unload-instance_method" title="#unload (instance method)">- (Object) <strong>unload</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Undoes the effects of <span class='object_link'><a href="#load-instance_method" title="Nanoc::Site#load (method)">#load</a></span>.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nanoc::Site (class)">Site</a></span></tt>) <strong>initialize</strong>(dir_or_config_hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a site object for the site specified by the given
<code>dir_or_config_hash</code> argument.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dir_or_config_hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>, <tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a string, contains the path
to the site directory; if a hash, contains the site configuration.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_or_config_hash'>dir_or_config_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_build_config'>build_config</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_or_config_hash'>dir_or_config_hash</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="captures_store-instance_method">
  
    - (<tt>Object</tt>) <strong>captures_store</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/helpers/capturing.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_captures_store'>captures_store</span>
  <span class='ivar'>@captures_store</span> <span class='op'>||=</span> <span class='const'>CapturesStore</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="captures_store_compiled_items-instance_method">
  
    - (<tt>Object</tt>) <strong>captures_store_compiled_items</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/helpers/capturing.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_captures_store_compiled_items'>captures_store_compiled_items</span>
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>set</span><span class='tstring_end'>'</span></span>
  <span class='ivar'>@captures_store_compiled_items</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="code_snippets-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="CodeSnippet.html" title="Nanoc::CodeSnippet (class)">Nanoc::CodeSnippet</a></span>&gt;</tt>) <strong>code_snippets</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s code snippets.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="CodeSnippet.html" title="Nanoc::CodeSnippet (class)">Nanoc::CodeSnippet</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of code snippets in this
site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_code_snippets'>code_snippets</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@code_snippets</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compile-instance_method">
  
    - (<tt>void</tt>) <strong>compile</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Compiles the site.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>3.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compile'>compile</span>
  <span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compiler-instance_method">
  
    - (<tt><span class='object_link'><a href="Compiler.html" title="Nanoc::Compiler (class)">Nanoc::Compiler</a></span></tt>) <strong>compiler</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the compiler for this site. Will create a new compiler if none
exists yet.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Compiler.html" title="Nanoc::Compiler (class)">Nanoc::Compiler</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The compiler for this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compiler'>compiler</span>
  <span class='ivar'>@compiler</span> <span class='op'>||=</span> <span class='const'>Compiler</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="config-instance_method">
  
    - (<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>) <strong>config</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the site configuration. It has the following keys:</p>

<ul>
  <li>
    <p><code>text_extensions</code> (<code>Array&lt;String&gt;</code>) - A list of file extensions that
will cause nanoc to threat the file as textual instead of binary. When
the data source finds a content file with an extension that is
included in this list, it will be marked as textual.</p>
  </li>
  <li>
    <p><code>output_dir</code> (<code>String</code>) - The directory to which compiled items will
be written. This path is relative to the current working directory,
but can also be an absolute path.</p>
  </li>
  <li>
    <p><code>data_sources</code> (<code>Array&lt;Hash&gt;</code>) - A list of data sources for this site.
See below for documentation on the structure of this list. By default,
there is only one data source of the filesystem  type mounted at <code>/</code>.</p>
  </li>
  <li>
    <p><code>index_filenames</code> (<code>Array&lt;String&gt;</code>) - A list of filenames that will be
stripped off full item paths to create cleaner URLs. For example,
<code>/about/</code> will be used instead of <code>/about/index.html</code>). The default
value should be okay in most cases.</p>
  </li>
  <li>
    <p><code>enable_output_diff</code> (<code>Boolean</code>) - True when diffs should be generated
for the compiled content of this site; false otherwise.</p>
  </li>
</ul>

<p>The list of data sources consists of hashes with the following keys:</p>

<ul>
  <li>
    <p><code>:type</code> (<code>String</code>) - The type of data source, i.e. its identifier.</p>
  </li>
  <li>
    <p><code>:items_root</code> (<code>String</code>) - The prefix that should be given to all
items returned by the <span class='object_link'><a href="#items-instance_method" title="Nanoc::Site#items (method)">#items</a></span> method (comparable to mount points
for filesystems in Unix-ish OSes).</p>
  </li>
  <li>
    <p><code>:layouts_root</code> (<code>String</code>) - The prefix that should be given to all
layouts returned by the <span class='object_link'><a href="#layouts-instance_method" title="Nanoc::Site#layouts (method)">#layouts</a></span> method (comparable to mount
points for filesystems in Unix-ish OSes).</p>
  </li>
  <li>
    <p><code>:config</code> (<code>Hash</code>) - A hash containing the configuration for this data
source. nanoc itself does not use this hash. This is especially
useful for online data sources; for example, a Twitter data source
would need the username of the account from which to fetch tweets.</p>
  </li>
</ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The site configuration</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data_sources-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">Nanoc::DataSource</a></span>&gt;</tt>) <strong>data_sources</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the data sources for this site. Will create a new data source if
none exists yet.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">Nanoc::DataSource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of data sources for this
site</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Errors/UnknownDataSource.html" title="Nanoc::Errors::UnknownDataSource (class)">Nanoc::Errors::UnknownDataSource</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the site configuration
specifies an unknown data source</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_data_sources'>data_sources</span>
  <span class='id identifier rubyid_load_code_snippets'>load_code_snippets</span>

  <span class='ivar'>@data_sources</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:data_sources</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='op'>|</span>
      <span class='comment'># Get data source class
</span>      <span class='id identifier rubyid_data_source_class'>data_source_class</span> <span class='op'>=</span> <span class='const'>Nanoc</span><span class='op'>::</span><span class='const'>DataSource</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Nanoc</span><span class='op'>::</span><span class='const'>Errors</span><span class='op'>::</span><span class='const'>UnknownDataSource</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data_source_class'>data_source_class</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

      <span class='comment'># Warn about deprecated data sources
</span>      <span class='comment'># TODO [in nanoc 4.0] remove me
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span>
        <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>filesystem</span><span class='tstring_end'>'</span></span>
          <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Warning: the 'filesystem' data source has been renamed to 'filesystem_verbose'. Using 'filesystem' will work in nanoc 3.1.x, but it will likely not work anymore in a future release of nanoc. Please update your data source configuration and replace 'filesystem' with 'filesystem_verbose'.</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>filesystem_combined</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>filesystem_compact</span><span class='tstring_end'>'</span></span>
          <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Warning: the 'filesystem_combined' and 'filesystem_compact' data source has been merged into the new 'filesystem_unified' data source. Using 'filesystem_combined' and 'filesystem_compact' will work in nanoc 3.1.x, but it will likely not work anymore in a future release of nanoc. Please update your data source configuration and replace 'filesystem_combined' and 'filesystem_compact with 'filesystem_unified'.</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

      <span class='comment'># Create data source
</span>      <span class='id identifier rubyid_data_source_class'>data_source_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:items_root</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:layouts_root</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="freeze-instance_method">
  
    - (<tt>void</tt>) <strong>freeze</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Prevents all further modifications to itself, its items, its layouts etc.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221
222</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_freeze'>freeze</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_freeze_recursively'>freeze_recursively</span>
  <span class='id identifier rubyid_items'>items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>         <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>  <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_layouts'>layouts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span>       <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>  <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_code_snippets'>code_snippets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cs'>cs</span><span class='op'>|</span> <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="items-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Item.html" title="Nanoc::Item (class)">Nanoc::Item</a></span>&gt;</tt>) <strong>items</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s items.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="Item.html" title="Nanoc::Item (class)">Nanoc::Item</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of items in this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_items'>items</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@items</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="layouts-instance_method">
  
    - (<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;Nanoc::Layouts&gt;</tt>) <strong>layouts</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s layouts.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;Nanoc::Layouts&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of layout in this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_layouts'>layouts</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@layouts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load-instance_method">
  
    - (<tt>void</tt>) <strong>load</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Loads the site data. It is not necessary to call this method explicitly;
it will be called when it is necessary.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load'>load</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@loaded</span> <span class='op'>||</span> <span class='ivar'>@loading</span>
  <span class='ivar'>@loading</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='comment'># Load all data
</span>  <span class='id identifier rubyid_load_code_snippets'>load_code_snippets</span>
  <span class='id identifier rubyid_data_sources'>data_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ds'>ds</span><span class='op'>|</span> <span class='id identifier rubyid_ds'>ds</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_load_items'>load_items</span>
  <span class='id identifier rubyid_load_layouts'>load_layouts</span>
  <span class='id identifier rubyid_data_sources'>data_sources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ds'>ds</span><span class='op'>|</span> <span class='id identifier rubyid_ds'>ds</span><span class='period'>.</span><span class='id identifier rubyid_unuse'>unuse</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_setup_child_parent_links'>setup_child_parent_links</span>

  <span class='comment'># Load compiler too
</span>  <span class='comment'># FIXME this should not be necessary
</span>  <span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span>

  <span class='ivar'>@loaded</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_unload'>unload</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_e'>e</span>
<span class='kw'>ensure</span>
  <span class='ivar'>@loading</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_data-instance_method">
  
    - (<tt>Object</tt>) <strong>load_data</strong>(force = false) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="note deprecated"><strong>Deprecated.</strong> <div class='inline'><p>It is no longer necessary to explicitly load site data. It
is safe to remove all <span class='object_link'><a href="#load_data-instance_method" title="Nanoc::Site#load_data (method)">#load_data</a></span> calls.</p>
</div></div>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 226</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_data'>load_data</span><span class='lparen'>(</span><span class='id identifier rubyid_force'>force</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>It is no longer necessary to call Nanoc::Site#load_data. This method no longer has any effect. All calls to this method can be safely removed.</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup_child_parent_links-instance_method">
  
    - (<tt>void</tt>) <strong>setup_child_parent_links</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Fills each item&#8217;s parent reference and children array with the
appropriate items. It is probably not necessary to call this method
manually; it will be called when appropriate.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 181</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_child_parent_links'>setup_child_parent_links</span>
  <span class='id identifier rubyid_teardown_child_parent_links'>teardown_child_parent_links</span>

  <span class='id identifier rubyid_item_map'>item_map</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_item_map'>item_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span>
  <span class='kw'>end</span>

  <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_parent_id_end'>parent_id_end</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_parent_id_end'>parent_id_end</span>
      <span class='id identifier rubyid_parent_id'>parent_id</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_parent_id_end'>parent_id_end</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_item_map'>item_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_parent_id'>parent_id</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_parent'>parent</span>
        <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'>parent</span>
        <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_item'>item</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="teardown_child_parent_links-instance_method">
  
    - (<tt>void</tt>) <strong>teardown_child_parent_links</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Removes all child-parent links.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_teardown_child_parent_links'>teardown_child_parent_links</span>
  <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unload-instance_method">
  
    - (<tt>Object</tt>) <strong>unload</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Undoes the effects of <span class='object_link'><a href="#load-instance_method" title="Nanoc::Site#load (method)">#load</a></span>. Used when <span class='object_link'><a href="#load-instance_method" title="Nanoc::Site#load (method)">#load</a></span> raises an exception.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unload'>unload</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@unloading</span>
  <span class='ivar'>@unloading</span> <span class='op'>=</span> <span class='kw'>true</span>

  <span class='ivar'>@items_loaded</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@items</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@layouts_loaded</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@layouts</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@code_snippets_loaded</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@code_snippets</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_unload'>unload</span>

  <span class='ivar'>@loaded</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@unloading</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15639968-1");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>