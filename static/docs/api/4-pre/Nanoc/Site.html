<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Nanoc::Site
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Nanoc/Site.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Nanoc.html" title="Nanoc (module)">Nanoc</a></span></span>
     &raquo; 
    <span class="title">Site</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Nanoc::Site
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Nanoc::Site</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/nanoc/base/source_data/site.rb<span class="defines">,<br />
  lib/nanoc/helpers/capturing.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The in-memory representation of a nanoc site. It holds references to the
following site data:</p>

<ul>
  <li><span class='object_link'><a href="#items-instance_method" title="Nanoc::Site#items (method)">#items</a></span>         — the list of items         (<span class='object_link'>Item</span>)</li>
  <li><span class='object_link'><a href="#layouts-instance_method" title="Nanoc::Site#layouts (method)">#layouts</a></span>       — the list of layouts       (<span class='object_link'>Layout</span>)</li>
  <li><span class='object_link'><a href="#code_snippets-instance_method" title="Nanoc::Site#code_snippets (method)">#code_snippets</a></span> — the list of code snippets (<span class='object_link'>CodeSnippet</span>)</li>
  <li><span class='object_link'><a href="#data_sources-instance_method" title="Nanoc::Site#data_sources (method)">#data_sources</a></span>  — the list of data sources  (<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">DataSource</a></span>)</li>
</ul>

<p>In addition, each site has a <span class='object_link'><a href="#config-instance_method" title="Nanoc::Site#config (method)">#config</a></span> hash which stores the site
configuration.</p>

<p>The physical representation of a <span class='object_link'><a href="" title="Nanoc::Site (class)">Site</a></span> is usually a directory
that contains a configuration file, site data, a rakefile, a rules file,
etc. The way site data is stored depends on the data source.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="DEFAULT_DATA_SOURCE_CONFIG-constant" class="">DEFAULT_DATA_SOURCE_CONFIG =
          <div class="docstring">
  <div class="discussion">
    <p>The default configuration for a data source. A data source’s
configuration overrides these options.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filesystem_unified</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>items_root:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>layouts_root:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>config:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="DEFAULT_CONFIG-constant" class="">DEFAULT_CONFIG =
          <div class="docstring">
  <div class="discussion">
    <p>The default configuration for a site. A site’s configuration overrides
these options: when a <span class='object_link'><a href="" title="Nanoc::Site (class)">Nanoc::Site</a></span> is created with a configuration
that lacks some options, the default value will be taken from
<code>DEFAULT_CONFIG</code>.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>text_extensions:</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>css</span><span class='words_sep'> </span><span class='tstring_content'>erb</span><span class='words_sep'> </span><span class='tstring_content'>haml</span><span class='words_sep'> </span><span class='tstring_content'>htm</span><span class='words_sep'> </span><span class='tstring_content'>html</span><span class='words_sep'> </span><span class='tstring_content'>js</span><span class='words_sep'> </span><span class='tstring_content'>less</span><span class='words_sep'> </span><span class='tstring_content'>markdown</span><span class='words_sep'> </span><span class='tstring_content'>md</span><span class='words_sep'> </span><span class='tstring_content'>php</span><span class='words_sep'> </span><span class='tstring_content'>rb</span><span class='words_sep'> </span><span class='tstring_content'>sass</span><span class='words_sep'> </span><span class='tstring_content'>scss</span><span class='words_sep'> </span><span class='tstring_content'>txt</span><span class='words_sep'> </span><span class='tstring_content'>xhtml</span><span class='words_sep'> </span><span class='tstring_content'>xml</span><span class='words_sep'> </span><span class='tstring_content'>coffee</span><span class='words_sep'> </span><span class='tstring_content'>hb</span><span class='words_sep'> </span><span class='tstring_content'>handlebars</span><span class='words_sep'> </span><span class='tstring_content'>mustache</span><span class='words_sep'> </span><span class='tstring_content'>ms</span><span class='words_sep'> </span><span class='tstring_content'>slim</span><span class='words_sep'> )</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span>
  <span class='label'>lib_dirs:</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>lib</span><span class='words_sep'> )</span><span class='comma'>,</span>
  <span class='label'>commands_dirs:</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>commands</span><span class='words_sep'> )</span><span class='comma'>,</span>
  <span class='label'>output_dir:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>output</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>data_sources:</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='label'>index_filenames:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>index.html</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='label'>enable_output_diff:</span> <span class='kw'>false</span><span class='comma'>,</span>
  <span class='label'>prune:</span> <span class='lbrace'>{</span> <span class='label'>auto_prune:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>exclude:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.git</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.hg</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.svn</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>CVS</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#code_snippets-instance_method" title="#code_snippets (instance method)">- (Array&lt;Nanoc::CodeSnippet&gt;) <strong>code_snippets</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s code snippets.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compile-instance_method" title="#compile (instance method)">- (void) <strong>compile</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Compiles the site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#compiler-instance_method" title="#compiler (instance method)">- (Nanoc::Compiler) <strong>compiler</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the compiler for this site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#config-instance_method" title="#config (instance method)">- (Hash) <strong>config</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the site configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#data_sources-instance_method" title="#data_sources (instance method)">- (Array&lt;Nanoc::DataSource&gt;) <strong>data_sources</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the data sources for this site.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#freeze-instance_method" title="#freeze (instance method)">- (void) <strong>freeze</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Prevents all further modifications to itself, its items, its layouts etc.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Site) <strong>initialize</strong>(dir_or_config_hash) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a site object for the site specified by the given <code>dir_or_config_hash</code> argument.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#items-instance_method" title="#items (instance method)">- (Array&lt;Nanoc::Item&gt;) <strong>items</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s items.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#layouts-instance_method" title="#layouts (instance method)">- (Array&lt;Nanoc::Layouts&gt;) <strong>layouts</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns this site’s layouts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setup_child_parent_links-instance_method" title="#setup_child_parent_links (instance method)">- (void) <strong>setup_child_parent_links</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Fills each item’s parent reference and children array with the appropriate items.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Nanoc::Site (class)">Site</a></span></tt>) <strong>initialize</strong>(dir_or_config_hash) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a site object for the site specified by the given
<code>dir_or_config_hash</code> argument.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dir_or_config_hash</span>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span></tt>, <tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a string, contains the path
to the site directory; if a hash, contains the site configuration.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_or_config_hash'>dir_or_config_hash</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_build_config'>build_config</span><span class='lparen'>(</span><span class='id identifier rubyid_dir_or_config_hash'>dir_or_config_hash</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="code_snippets-instance_method">
  
    - (<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Nanoc::CodeSnippet</span>&gt;</tt>) <strong>code_snippets</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s code snippets.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Nanoc::CodeSnippet</span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of code snippets in this
site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_code_snippets'>code_snippets</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@code_snippets</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compile-instance_method">
  
    - (<tt>void</tt>) <strong>compile</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Compiles the site.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>3.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 57</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compile'>compile</span>
  <span class='id identifier rubyid_compiler'>compiler</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="compiler-instance_method">
  
    - (<tt><span class='object_link'>Nanoc::Compiler</span></tt>) <strong>compiler</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the compiler for this site. Will create a new compiler if none
exists yet.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Nanoc::Compiler</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The compiler for this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 65</span>

<span class='kw'>def</span> <span class='id identifier rubyid_compiler'>compiler</span>
  <span class='ivar'>@compiler</span> <span class='op'>||=</span> <span class='const'>Compiler</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="config-instance_method">
  
    - (<tt><span class='object_link'>Hash</span></tt>) <strong>config</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the site configuration. It has the following keys:</p>

<ul>
  <li>
    <p><code>text_extensions</code> (<code>Array&lt;String&gt;</code>) - A list of file extensions that
will cause nanoc to threat the file as textual instead of binary. When
the data source finds a content file with an extension that is
included in this list, it will be marked as textual.</p>
  </li>
  <li>
    <p><code>output_dir</code> (<code>String</code>) - The directory to which compiled items will
be written. This path is relative to the current working directory,
but can also be an absolute path.</p>
  </li>
  <li>
    <p><code>data_sources</code> (<code>Array&lt;Hash&gt;</code>) - A list of data sources for this site.
See below for documentation on the structure of this list. By default,
there is only one data source of the filesystem  type mounted at <code>/</code>.</p>
  </li>
  <li>
    <p><code>index_filenames</code> (<code>Array&lt;String&gt;</code>) - A list of filenames that will be
stripped off full item paths to create cleaner URLs. For example,
<code>/about/</code> will be used instead of <code>/about/index.html</code>). The default
value should be okay in most cases.</p>
  </li>
  <li>
    <p><code>enable_output_diff</code> (<code>Boolean</code>) - True when diffs should be generated
for the compiled content of this site; false otherwise.</p>
  </li>
</ul>

<p>The list of data sources consists of hashes with the following keys:</p>

<ul>
  <li>
    <p><code>:type</code> (<code>String</code>) - The type of data source, i.e. its identifier.</p>
  </li>
  <li>
    <p><code>:items_root</code> (<code>String</code>) - The prefix that should be given to all
items returned by the <span class='object_link'><a href="#items-instance_method" title="Nanoc::Site#items (method)">#items</a></span> method (comparable to mount points
for filesystems in Unix-ish OSes).</p>
  </li>
  <li>
    <p><code>:layouts_root</code> (<code>String</code>) - The prefix that should be given to all
layouts returned by the <span class='object_link'><a href="#layouts-instance_method" title="Nanoc::Site#layouts (method)">#layouts</a></span> method (comparable to mount
points for filesystems in Unix-ish OSes).</p>
  </li>
  <li>
    <p><code>:config</code> (<code>Hash</code>) - A hash containing the configuration for this data
source. nanoc itself does not use this hash. This is especially
useful for online data sources; for example, a Twitter data source
would need the username of the account from which to fetch tweets.</p>
  </li>
</ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Hash</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The site configuration</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config'>config</span>
  <span class='ivar'>@config</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="data_sources-instance_method">
  
    - (<tt><span class='object_link'>Array</span>&lt;<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">Nanoc::DataSource</a></span>&gt;</tt>) <strong>data_sources</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the data sources for this site. Will create a new data source if
none exists yet.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'><a href="DataSource.html" title="Nanoc::DataSource (class)">Nanoc::DataSource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of data sources for this
site</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Nanoc::Errors::UnknownDataSource</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if the site configuration
specifies an unknown data source</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_data_sources'>data_sources</span>
  <span class='id identifier rubyid_load_code_snippets'>load_code_snippets</span>

  <span class='ivar'>@data_sources</span> <span class='op'>||=</span> <span class='kw'>begin</span>
    <span class='ivar'>@config</span><span class='lbracket'>[</span><span class='symbol'>:data_sources</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='op'>|</span>
      <span class='comment'># Get data source class
</span>      <span class='id identifier rubyid_data_source_class'>data_source_class</span> <span class='op'>=</span> <span class='const'>Nanoc</span><span class='op'>::</span><span class='const'>DataSource</span><span class='period'>.</span><span class='id identifier rubyid_named'>named</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>Nanoc</span><span class='op'>::</span><span class='const'>Errors</span><span class='op'>::</span><span class='const'>UnknownDataSource</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data_source_class'>data_source_class</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

      <span class='comment'># Create data source
</span>      <span class='id identifier rubyid_data_source_class'>data_source_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:items_root</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:layouts_root</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_data_source_hash'>data_source_hash</span><span class='lbracket'>[</span><span class='symbol'>:config</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
      <span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="freeze-instance_method">
  
    - (<tt>void</tt>) <strong>freeze</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Prevents all further modifications to itself, its items, its layouts etc.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_freeze'>freeze</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_freeze_recursively'>freeze_recursively</span>
  <span class='id identifier rubyid_items'>items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:freeze</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_layouts'>layouts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:freeze</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_code_snippets'>code_snippets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:freeze</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="items-instance_method">
  
    - (<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Nanoc::Item</span>&gt;</tt>) <strong>items</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s items.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;<span class='object_link'>Nanoc::Item</span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of items in this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_items'>items</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@items</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="layouts-instance_method">
  
    - (<tt><span class='object_link'>Array</span>&lt;Nanoc::Layouts&gt;</tt>) <strong>layouts</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns this site’s layouts.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'>Array</span>&lt;Nanoc::Layouts&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The list of layout in this site</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_layouts'>layouts</span>
  <span class='id identifier rubyid_load'>load</span>
  <span class='ivar'>@layouts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setup_child_parent_links-instance_method">
  
    - (<tt>void</tt>) <strong>setup_child_parent_links</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Fills each item’s parent reference and children array with the
appropriate items. It is probably not necessary to call this method
manually; it will be called when appropriate.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/nanoc/base/source_data/site.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setup_child_parent_links'>setup_child_parent_links</span>
  <span class='id identifier rubyid_teardown_child_parent_links'>teardown_child_parent_links</span>

  <span class='id identifier rubyid_item_map'>item_map</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_item_map'>item_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span>
  <span class='kw'>end</span>

  <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span>
    <span class='id identifier rubyid_parent_id_end'>parent_id_end</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_parent_id_end'>parent_id_end</span>

    <span class='id identifier rubyid_parent_id'>parent_id</span> <span class='op'>=</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_identifier'>identifier</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_parent_id_end'>parent_id_end</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_item_map'>item_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_parent_id'>parent_id</span><span class='rbracket'>]</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_parent'>parent</span>

    <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='id identifier rubyid_parent'>parent</span>
    <span class='id identifier rubyid_parent'>parent</span><span class='period'>.</span><span class='id identifier rubyid_children'>children</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_item'>item</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    
<script type="text/javascript">
    var _gaq = _gaq || [];
    var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
    _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
    _gaq.push(['_setAccount', 'UA-15639968-1']);
    _gaq.push(['_setDomainName', 'nanoc.ws']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
     })();
</script>

  </body>
</html>